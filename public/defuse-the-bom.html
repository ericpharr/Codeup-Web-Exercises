<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Defuse the BOM</title>
    <link rel="stylesheet" type="text/css" href="css/slate.bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/defuse-the-bom.css">
    <link href='https://fonts.googleapis.com/css?family=Orbitron' rel='stylesheet' type='text/css'>
</head>

<body>
    <main class='container'>
        <div class='row'>
            <h1 id="message" class="jumbotron col-md-6 col-md-offset-3">This BOM will self destruct in <span id="timer">5</span> <br>seconds...</h1>
        </div>
        <div class='row'>
            <button id="defuser" class='btn btn-default btn-lg btn-danger col-md-offset-5'>Defuse the BOM</button>
        </div>
    </main>
<script>
(function() {
    "use strict";

    var detonationTimer = 500;

    // TODO: This function needs to be called once every second
    var bom = setInterval(function updateTimer() {
        if (detonationTimer == 0) {
            alert('EXTERMINATE!');
            document.body.innerHTML = '';
        } else if (detonationTimer > 0) {
            document.getElementById('timer').innerHTML = (detonationTimer/100).toFixed(2);
        }

        detonationTimer--;
    }, 10) Â 

    // TODO: When this function runs, it needs to
    // cancel the interval/timeout for updateTimer()
    function defuseTheBOM() {
        clearInterval(bom);
    }

    // Don't modify anything below this line!
    //
    // This causes the defuseTheBOM() function to be called
    // when the "defuser" button is clicked.
    // We will learn about events in the DOM lessons
    var defuser = document.getElementById('defuser');
    defuser.addEventListener('click', defuseTheBOM);
})();
</script>
</body>
</html>
